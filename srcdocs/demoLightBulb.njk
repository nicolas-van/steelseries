{% extends "_common.njk" %}
{% block content %}
<h1>Light Bulb</h1>
<form class="form-inline">
  <div class="form-check mr-2 mb-2">
    <input class="form-check-input" type="checkbox" value="" id="lightBulbLight">
    <label class="form-check-label" for="lightBulbLight">
      Light on
    </label>
  </div>

  <div class="form-check mr-2 mb-2">
    <input name="lightBulbColor" class="form-check-input" type="radio" value="" id="lightBulbRed">
    <label class="form-check-label" for="lightBulbRed">
      Red
    </label>
  </div>
  <div class="form-check mr-2 mb-2">
    <input name="lightBulbColor" class="form-check-input" type="radio" value="" id="lightBulbGreen">
    <label class="form-check-label" for="lightBulbGreen">
      Green
    </label>
  </div>
  <div class="form-check mr-2 mb-2">
    <input name="lightBulbColor" class="form-check-input" type="radio" value="" id="lightBulbBlue">
    <label class="form-check-label" for="lightBulbBlue">
      Blue
    </label>
  </div>
  <div class="form-check mr-2 mb-2">
    <input name="lightBulbColor" class="form-check-input" type="radio" value="" id="lightBulbYellow" checked>
    <label class="form-check-label" for="lightBulbYellow">
       Yellow
    </label>
  </div>
  <input class="form-control mr-2 mb-2" type="range" min="0" max="100" value="100" step="1" id="lightBulbRange"/>
</form>
<div class="text-center">
  <canvas class="mt-3 mb-3" id='canvasLightBulb' width='400' height='400'>
    No canvas in your browser...sorry...
  </canvas>
</div>
<script>
  (function() {
  "use strict";

  document.querySelector('#lightBulbLight').addEventListener('click', function() {
    setLight();
  });
  document.querySelector('#lightBulbRed').addEventListener('click', function() {
    setColor('rgb(204, 51, 0)');
  });
  document.querySelector('#lightBulbGreen').addEventListener('click', function() {
    setColor('rgb(0, 255, 0)');
  });
  document.querySelector('#lightBulbBlue').addEventListener('click', function() {
    setColor('rgb(0, 0, 255)');
  });
  document.querySelector('#lightBulbYellow').addEventListener('click', function() {
    setColor('rgb(255, 255, 0)');
  });
  document.querySelector('#lightBulbRange').addEventListener('change', function() {
    setAlpha(this.value);
  });

  var lightBulb;

  function init()
  {
    // Initialzing
    lightBulb = new steelseries.LightBulb('canvasLightBulb',
    {
      width: 200,
      height: 200
    });

  }

  function setLight()
  {
    lightBulb.setOn(document.getElementById('lightBulbLight').checked);
  }

  function setAlpha(value)
  {
    lightBulb.setAlpha(value / 100);
  }

  function setColor(color)
  {
    lightBulb.setGlowColor(color);
  }
  init();
  })();
</script>
{% endblock %}
